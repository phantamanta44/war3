package io.github.phantamanta44.war3.handler;

import io.github.phantamanta44.war3.gui.ScopeHandler;
import net.minecraft.client.Minecraft;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.TickEvent;

public class VinylScratchHandler {

	private Minecraft mc;
	
	public VinylScratchHandler(Minecraft minecraft) {
		mc = minecraft;
	}
	
	@SubscribeEvent
	public void onPlayerTick(TickEvent.PlayerTickEvent event) {
		if (mc.gameSettings.keyBindUseItem.isKeyDown() && mc.thePlayer.inventory.getCurrentItem() != null) {
			ItemStack is = mc.thePlayer.inventory.getCurrentItem();
			Item i = is.getItem();
			if (!ScopeHandler.isScopable(Item.getIdFromItem(i)))
				return;
			if (is.getDisplayName().toLowerCase().contains("reload"))
				return;
			renderBeam();
		}
	}
	
	private void renderBeam() {
		mc.effectRenderer.addEffect(beamPart);
	}
	
}
